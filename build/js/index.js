function P(t,n,e){if(e===0)return!1;var o=n[0]-t[0],r=n[1]-t[1];return o*o+r*r<=e*e}var f=P,T=[0,0];function I(t,n,e,o,r){if(f(t,e,o))return r&&(r[0]=t[0],r[1]=t[1]),!0;if(f(n,e,o))return r&&(r[0]=n[0],r[1]=n[1]),!0;var i=t[0],s=t[1],v=n[0],B=n[1],M=e[0],k=e[1],c=v-i,y=B-s,E=M-i,z=k-s,h=c*c+y*y,u=c,a=y;if(h>0){var x=(E*c+z*y)/h;u*=x,a*=x}r||(r=T),r[0]=i+u,r[1]=s+a;var A=u*u+a*a;return f(r,e,o)&&A<=h&&u*c+a*y>=0}var L=I,C=L;function w(t={}){t.ctx.clearRect(0,0,t.canvas.width,t.canvas.height);let n=F(t.canvas.width,t.canvas.height),e=R(t.canvas.width,t.canvas.height);j({ctx:t.ctx,ceiling:n,floor:e,maxHeight:t.canvas.height}),t.balls.forEach(o=>{if(D({ctx:t.ctx,y:o.y,x:o.x,radius:o.radius,color:o.color}),o.x+=o.dx,o.y+=o.dy,n.concat(e).forEach(r=>{C([r.start.x,r.start.y],[r.end.x,r.end.y],[o.x,o.y],o.radius)===!0&&(r.direction==="horizontal"?o.dy=-o.dy:o.dx=-o.dx)}),(o.y+o.dy<o.radius||o.y>t.canvas.height-o.radius)&&(o.dy=-o.dy),o.x+o.dx>t.canvas.width-o.radius||o.x+o.dx<o.radius){if(o.remove){t.balls.pop();return}o.dx=-o.dx}}),requestAnimationFrame(()=>w(t))}function p(t){return{x:t.width/2,y:t.height/2,dx:Math.random()-.5,dy:Math.random()-.5,radius:S(3,20),color:_()}}function F(t,n){return[{start:{x:0,y:n/3},end:{x:50,y:n/3},direction:"horizontal"},{start:{x:50,y:n/3},end:{x:50,y:10},direction:"vertical"},{start:{x:50,y:10},end:{x:t-50,y:10},direction:"horizontal"},{start:{x:t-50,y:10},end:{x:t-50,y:n/3},direction:"vertical"},{start:{x:t-50,y:n/3},end:{x:t,y:n/3},direction:"horizontal"}]}function R(t,n){return[{start:{x:0,y:n-n/3},end:{x:50,y:n-n/3},direction:"horizontal"},{start:{x:50,y:n-n/3},end:{x:50,y:n-10},direction:"vertical"},{start:{x:50,y:n-10},end:{x:t-50,y:n-10},direction:"horizontal"},{start:{x:t-50,y:n-10},end:{x:t-50,y:n-n/3},direction:"vertical"},{start:{x:t-50,y:n-n/3},end:{x:t,y:n-n/3},direction:"horizontal"}]}function j({ctx:t,ceiling:n,floor:e,maxHeight:o}){t.strokeStyle="orangered",t.lineWidth=3,t.lineJoin="round",t.beginPath(),t.moveTo(0,o/3);for(let r=0;r<n.length;r++){let i=n[r];t.lineTo(i.end.x,i.end.y)}t.stroke(),t.beginPath(),t.moveTo(0,o-o/3);for(let r=0;r<e.length;r++){let i=e[r];t.lineTo(i.end.x,i.end.y)}t.stroke()}function D({ctx:t,y:n,x:e,radius:o,color:r}){t.beginPath();let i=0,s=Math.PI*2,v=!1;t.arc(e,n,o,i,s,v),t.fillStyle=r,t.fill(),t.closePath()}function S(t,n){return t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t+1))+t}function _(){for(var t="0123456789ABCDEF",n="#",e=0;e<6;e++)n+=t[Math.floor(Math.random()*16)];return n}var d=document.getElementById("museum"),q=document.getElementById("removeBall"),J=document.getElementById("addBall"),N=d.getContext("2d"),G=window.innerWidth,K=window.innerHeight-78;d.width=G;d.height=K;J.addEventListener("click",function(){let t=p(d);l.push(t)});q.addEventListener("click",function(){let t=l.shift();t.remove=!0,t.dx=0,t.dy=0,t.x=d.width/2,t.y=d.height/2,l.push(t);let n=Math.random()>.5?50:-50;window.setTimeout(()=>{t.dx=n},500)});var l=[],O=50;for(let t=0;t<O;t++)l.push(p(d));var Q={canvas:d,ctx:N,balls:l};w(Q);
//# sourceMappingURL=index.js.map
